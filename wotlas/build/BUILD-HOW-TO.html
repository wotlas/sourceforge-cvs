<html>
<head>
<title>BUILD HOW-TO</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
</head>

<body bgcolor="#FFFFFF" text="#000000">
<div align="center"> 
  <hr width="50%">
  <p><font size="5">HOW TO BUILD WOTLAS</font><font size="4"><br>
    <i><font size="2">Last Modified : 1th of May</font></i></font></p>
  <p align="left">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This <i>How-To</i> 
    will explain you how to compile the wotlas client, server, build JAR files 
    and build the alicebot part of wotlas. To build wotlas you have 2 solutions 
    :</p>
</div>
<blockquote> 
  <p><b>- </b>use<b> Jakarta Ant</b> <i><font size="2">( already installed if 
    you downloaded a wotlas-devel package or just retrieved wotlas from CVS )<br>
    </font></i><b>- </b>use<b> GNU Make</b> <i><font size="2">( not installed 
    by wotlas, note also that our Makefile is not maintained anymore since v1.2.3 
    )</font></i></p>
</blockquote>
<p><br>
  We'll detail the Jakarta Ant solution. Some documentation on how to use GNU 
  Make is still available at the end of this <i>How-To</i>. Here are the available 
  sections of this document :</p>
<blockquote> 
  <p><b>SUMMARY</b></p>
  <p>I - <a href="#I">About Jakarta Ant</a><br>
    II - <a href="#II">How to Compile Wotlas with Ant</a><br>
    III - <a href="#III">How to Compile Wotlas with Ant &amp; Jikes</a><br>
    IV - <a href="#IV">How to Compile &amp; Use the AliceBot part of Wotlas</a><br>
    V - <a href="#V">How to Build the Wotlas Javadoc API</a><br>
    <br>
    <a href="#A">Appendix A - GNU Make</a></p>
  </blockquote>
<hr width="50%">
<p><br>
  <font size="4">I - About Jakarta Ant</font><b><a name="I"></a><br>
  </b> </p>
<p>Jakarta ANT is a build tool that does exactly what Gnu Make does but :</p>
<blockquote> 
  <p> -<font size="2"> </font>it's a <b>Java utility</b> so it will run on any 
    system<br>
    - the makefile is replaced by a <b>build.xml</b> which is <b><i>easier</i></b> 
    to write and as much <b>powerful</b>.<br>
    - Ant has won the JavaWorld Editors' Choice 2001 Award for most useful Java<br>
    &nbsp;&nbsp;&nbsp;community-developed technology. It's a technology that has 
    reached maturity.</p>
</blockquote>
<p>If you want to learn how Jakarta Ant works, here is a great link : <i><a href="http://www.jfipa.org/publications/ANTGuide" target="_blank">Small 
  Ant Guide</a></i> . You can also go directly to Ant's official home <i><a href="http://jakarta.apache.org/ant/" target="_blank">here</a></i>.<br>
  <br>
</p>
<p><font size="4">II - How to Compile Wotlas with Ant</font><b><a name="II"></a><br>
  </b></p>
<p>To compile the whole wotlas project with Ant just :</p>
<blockquote> 
  <p> 1 - Make sure you have Java 1.4 (or a higher version) already installed. 
    You don't need to edit your CLASSPATH to compile wotlas. Just note where your 
    JDK has been installed.<br>
    2- Edit <i>build.bat</i> ( or <i>build.sh</i> under Unix ) and enter the complete 
    path to your JDK where asked to.<br>
    3- Run <i>build.bat</i> ( or build.sh under Unix ), that's all !</p>
  </blockquote>
<p> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Java classes are saved to the <i>classes/</i> 
  directory and a <i>wotlas-client.jar</i> file is created in the <i>lib/</i> 
  directory. For more options, open a shell window and enter <i>build usage</i>, 
  it'll display the list of available targets.<br>
  Here are some :</p>
<div align="center">
  <table width="403" border="0">
    <tr> 
      <td width="126"><font size="2">build all</font></td>
      <td width="267"><font size="2">builds the entire project (default)</font></td>
    </tr>
    <tr> 
      <td width="126"><font size="2">build server</font></td>
      <td width="267"><font size="2">builds the server side only</font></td>
    </tr>
    <tr>
      <td width="126"><font size="2">build client</font></td>
      <td width="267"><font size="2">builds the client side only</font></td>
    </tr>
    <tr> 
      <td width="126"><font size="2">build client-jar</font></td>
      <td width="267"><font size="2">builds a JAR of the whole wotlas client </font></td>
    </tr>
    <tr> 
      <td width="126"><font size="2">build libs</font></td>
      <td width="267"><font size="2">builds the wotlas libraries only</font></td>
    </tr>
    <tr> 
      <td width="126"><font size="2">build clean</font></td>
      <td width="267"><font size="2">deletes all the compiled data</font></td>
    </tr>
  </table>
</div>
<p align="center">&nbsp; </p>
<p><font color="#FF0000"><b><font color="#CC0000">IMPORTANT : </font></b></font>If 
  you've downloaded the wotlas project from our CVS repository, you'll need to 
  generate the wotlas universe via the <i><b>server-world-generator.bat</b></i> 
  script. This is needed if you want to be able to start the <i>wotlas client</i> 
  or <i>server</i> properly.<br>
</p>
<p>&nbsp; </p>
<p><font size="4">III - Compile Wotlas with Ant &amp; Jikes</font><b><a name="III"></a><br>
  </b></p>
<p>If you use <i>Javac</i> to compile wotlas it'll take you around 3 minutes on 
  a 700Mhz computer. And compilation with Ant is three times slower than if you 
  had used GNU Make. So if you want to speed things up just use IBM Jikes !</p>
<p>Jikes is a free Java compiler (developed by IBM and compliant to Sun's spec) 
  which is <b>10</b> times faster than javac. On a 700Mhz, if you use Ant + Jikes, 
  wotlas will take around 20s to compile.</p>
<p>So to install Jikes and compile wotlas with it just :</p>
<blockquote> 
  <p> - download jikes from <a href="http://oss.software.ibm.com/developerworks/opensource/jikes/" target="_blank">here</a>. 
    Jikes is available forWindows, Linux, etc... You'll also find jikes 1.15 for 
    windows on our web site <a href="http://wotlas.sf.net/pub" target="_blank">here</a>.</p>
  <p> - copy the <i>jikes.exe</i> file ( <i>jikes</i> under Unix ) to your c:\windows 
    ( or to /usr/bin if you are under Unix )</p>
  <p> - edit wotlas's<i> build.xml</i> and change the value :<br>
  </p>
  <blockquote> 
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;property name=&quot;build.compiler&quot; 
      value=&quot;<b>classic</b>&quot;/&gt;<br>
      by<br>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;property name=&quot;build.compiler&quot; 
      value=&quot;<b>jikes</b>&quot;/&gt;</p>
  </blockquote>
</blockquote>
<p>That's all ! Now just restart <i>build.bat</i> ( or<i> build.sh</i> ) and enjoy...<br>
  <br>
  <br>
  <font size="4">IV - Compile and Use the AliceBot part of Wotlas</font><b><a name="IV"></a><br>
  </b></p>
<p>Our wotlas server can connect to a remote AliceBot server to enhance the artificial 
  intelligence of its bots. Here is what you need to do to make this link work 
  :</p>
<blockquote> 
  <p> <b>1</b> - Install the AliceBot <b>ProgramD</b> binary package. You'll find 
    it on the <a href="http://www.alicebot.org">alicebot website</a>.<br>
  </p>
  <p><b>2</b> - Install it near your wotlas home. The ideal directory structure 
    would be :</p>
<pre>
     projects
        |-----alice
        |       |-----ProgramD
        |                |-------lib
        |                |------- ...
        |-----wotlas
        |       |-----base
        |       |-----build
        |       |-----...
</pre>
  <blockquote> 
    <p> If this is not the alice directory structure you want to have, just open 
      the <i>wotlas/build/build.xml</i> file and edit the line :<br>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
      &lt;property name=&quot;<b>alice.dir</b>&quot; &nbsp;value=&quot;<b>../../alice/ProgramD</b>&quot; 
      /&gt;<br>
      <br>
      This is a <i>relative</i> path begining in <i>wotlas/build/ </i>and leading 
      to the <i>ProgramD</i> directory. We also assume that alice's JAR files 
      are in its <i>lib/</i> directory. If this is not the case please edit the 
      <i>alice-classpath</i> property in <i>build.xml</i>.</p>
  </blockquote>
  <p align="left"> <b>3</b> - download some AIML data from alicebot's <a href="http://www.alicebot.org" target="_blank">website</a> 
    ( AIML data is the bot's brain). Once you have for example the <i>standard-AIML 
    </i>package just unzip it somewhere and copy its entire content to your <i>ProgramD/bots/standard/ 
    </i>directory. Answer <i>Yes</i> when asked to overwrite <i>startup.xml</i>. 
    <br>
    <br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;We'll provide AIML brains 
    for wotlas in a near future.</p>
  <p><b>4</b> - we will now compile the wotlas code for alice. Open a shell window, 
    go to the <i>wotlas/build</i> directory and enter <i><b>build alice</b></i>. 
    This will (1) remove previously created wotlas classes in <i>wotlas/classes/ 
    , </i>(2) build the alice wotlas code, (3) create a JAR file named <i><b>alicewotlas.jar</b></i> 
    containing the compiled classes, (4) move this JAR file in the <i>ProgramD/lib/</i> 
    directory.<br>
    <br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;If errors occur at this level 
    check the &quot;<i>alice.dir</i>&quot; property in <i>wotlas/build/build.xml</i> 
    .</p>
  <p><b>5</b> - We need to tell our wotlas server to use the <i>AliceBotChatService</i> 
    class instead of the simple <i>LoopBack</i> service which is set as default. 
    To do that just open <i>wotlas/base/configs/server.cfg</i> and replace the 
    line :<br>
  </p>
  <p> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>init.botChatServiceClass</b> 
    = wotlas.server.bots.<b>LoopBackBotChatService</b><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;by<br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>init.botChatServiceClass</b> 
    = wotlas.server.bots.<b>alice.client.AliceBotChatService</b><br>
  </p>
  <p><b>6</b> - Now we just need to configure the <i>ProgramD</i> to load our 
    <i>alicewotlas.jar</i> file. To do that open the <i>ProgramD/server.bat</i> 
    ( or <i>ProgramD/server</i> for Unix ) and replace :<br>
    <br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;set 
    <b>ALICE_LIB</b>=lib/aliceserver.jar<br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;by<br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;set 
    <b>ALICE_LIB</b>=lib/aliceserver.jar<b>;lib/alicewotlas.jar</b><br>
    <br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Now open the <i>ProgramD/startup.xml</i> 
    file, search for the &lt;listeners&gt; tag and add the lines :<br>
    <br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b> 
    &lt;listener type=&quot;AliceWOTLAS&quot; enabled=&quot;true&quot;&gt;<br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b> 
    </b>&lt;/listener&gt;<br>
    </b><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This way the programD will 
    find our listener in <i>alicewotlas.jar</i>.<br>
    <br>
    <b>7</b> - Congratulations ! You can now start your AliceBot ProgramD by using 
    the run.bat ( or <i>run.sh</i> ). Note the IP interface name/address on which 
    the AliceBot is listening.<br>
    <br>
    Edit your <i>wotlas/base/configs/server.cfg</i> and set the &quot;<i>bots.aliceHost</i>&quot; 
    property to the IP interface name/address where your alicebot ise listening.<br>
    <br>
    You can now start your <i>Wotlas Server</i>. It should connect automatically 
    to the <i>AliceBot Server</i>. You can also start your <i>Wotlas Server</i> 
    first then start the <i>AliceBot Server</i> : the <i>Wotlas Server</i> tries 
    to join the <i>AliceBot</i> <i>Server</i> every ten minutes.<br>
    <br>
  </p>
  </blockquote>
<p><font size="4">V - Build the Wotlas Javadoc API</font><b><a name="V"></a><br>
  </b> </p>
<p>To build the javadoc you'll need to have a JDK installed and the wotlas source 
  in the src/ directory. If it's your case just :</p>
<blockquote> 
  <p>- open a Shell/DOS window, go to the <i>wotlas/build</i> directory<br>
    - enter '<b><i>build javadoc</i></b>' ( forgive us for the <i>format errors</i> 
    you'll probably see ).<br>
    - the API docs are saved in <i>wotlas/docs/apis. </i>Just run <i>wotlas/docs/apis</i>/<i>index.html</i></p>
</blockquote>
<p>&nbsp;</p>
<hr width="50%">
<p><font size="4"><br>
  Appendix A - GNU Make<a name="A"></a><br>
  </font> </p>
<p> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Note that this solution is 
  no longuer supported for the wotlas project... Our makefile has not been updated 
  since wotlas v1.2.3. If you still want to use Gnu Make here are the steps to 
  follow :</p>
<blockquote> 
  <p><b>1</b> - Make sure you have the jdk1.4 (or higher version) already installed. 
    You don't need to edit your CLASSPATH to compile wotlas.</p>
  <p><b>2</b> - You need the GNU Make utility. For unix you should already have 
    it. For Windows it's a little more difficult to find. So here are four URLs 
    :</p>
  <blockquote> 
    <blockquote> 
      <p> http://wotlas.sf.net/gnu<br>
        http://www.delorie.com/djgpp<br>
        http://www.tardis.ed.ac.uk/~skx/win/Free15.html#gnumake<br>
        http://www.GNUSoftware.com</p>
    </blockquote>
    <p>For windows put make.exe in c:\windows or any directory specified in your 
      PATH environment variable. For unix put make in /usr/bin.</p>
  </blockquote>
  <p><b>3</b> - Edit the wotlas/build/makefile. The ONLY line you need to eventually 
    modify is the SHELL variable. Everything is explained in the <i>makefile</i>.</p>
  <p><b>4</b> - Open a shell window ( DOS shell for Windows ), go to the build/ 
    directory and enter &quot;<i>make</i>&quot;. That's all ! All the compiled 
    classes are placed in wotlas/classes/ .<br>
  </p>
</blockquote>
</body>
</html>
